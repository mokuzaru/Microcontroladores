MPASM  5.51                    APLICACION.ASM   5-18-2014  15:02:38         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Warning[205]: Found directive in column 1. (list)
                      00001 list p=16f877a
Warning[205]: Found directive in column 1. (include)
                      00002 include<p16f877a.inc>
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ;  MPASM PIC16F877A processor include
                      00005 ; 
                      00006 ;  (c) Copyright 1999-2013 Microchip Technology, All rights reserved
                      00007 ;==========================================================================
                      00008 
                      00566         LIST
Warning[205]: Found directive in column 1. (include)
                      00003 include<macro16f877.inc>
                      00001 ;======================================================
                      00002 ;Nombre de archivo:macro16f877.asm
                      00003 ;Hecho por: Ing. Carlos Enrique Mendiola Mogollón
                      00004 ;Empresa: Electronic-digital(CM)
                      00005 ;E-mail: digitalcorel@hotmail.com
                      00006 ;Dirección Web:www.electronic-digital.blogspot.com
                      00007 ;======================================================
  00000005            00008 porta   equ PORTA
  00000006            00009 portb   equ PORTB
  00000007            00010 portc   equ PORTC
  00000008            00011 portd   equ PORTD
  00000009            00012 porte   equ PORTE
  00000086            00013 trisb   equ TRISB
  00000087            00014 trisc   equ TRISC
  00000088            00015 trisd   equ TRISD
  00000000            00016 salida  equ 0
  00000001            00017 entrada equ 1
                      00018 ;......................................................
                      00019 ;******************************************************
                      00020 ;Operaciones con registros,datos y saltos
                      00021 ;......................................................
                      00022 ;******************************************************
                      00023 ;mover un número a registro
                      00024 mover        macro   registro,literal
                      00025              movlw   literal
                      00026              movwf   registro
                      00027              endm
                      00028 ;mover el contenido del registro2 al registro1
                      00029 movregistro  macro   registro1,registro2
                      00030              movf    registro2,0
                      00031              movwf   registro1
                      00032              endm
                      00033 ;compara el dato con el registro y salta si no es igual
                      00034 csni         macro       registro,dato,direcc   
                      00035                          movlw   dato
                      00036                      subwf       registro,0
                      00037                          btfss   STATUS,Z
                      00038                          goto    direcc
MPASM  5.51                    APLICACION.ASM   5-18-2014  15:02:38         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00039                          endm   
                      00040 ;compara y salta si no es igual entre registros
                      00041 csnir        macro      registro1,registro2,direcc
                      00042                      movf       registro2,0
                      00043                  subwf  registro1,0
                      00044                  btfss  STATUS,Z
                      00045                  goto   direcc
                      00046                  endm
                      00047 ;compara dato con registro y salta si es igual
                      00048 csi          macro      registro,dato,direcc
                      00049                          movlw  dato
                      00050                  subwf  registro,0
                      00051                  btfsc  STATUS,Z
                      00052                  goto   direcc
                      00053                  endm
                      00054 ;compara entre registros y salta si son iguales
                      00055 csir             macro  registro1,registro2,direcc
                      00056                          movf   registro2,0
                      00057                          subwf  registro1,0
                      00058                          btfsc  STATUS,Z
                      00059                          goto   direcc
                      00060                          endm
                      00061 ;decrementa registro y compara con dato y salta si no es igual
                      00062 dcsni            macro  registro,dato,direcc
                      00063                          decf   registro,1
                      00064                          movlw  dato
                      00065                      subwf      registro,0
                      00066                          btfss  STATUS,Z
                      00067                          goto   direcc
                      00068                          endm
                      00069 ;decrementa registro y compara con dato y salta si es igual
                      00070 dcsi             macro  registro,dato,direcc
                      00071                          decf   registro,1
                      00072                          movlw  dato
                      00073                          subwf  registro,0
                      00074                          btfsc  STATUS,Z
                      00075                          goto   direcc
                      00076                      endm
                      00077 ;compara y salta si es menor
                      00078 csme             macro  registro,dato,direcc
                      00079                          movlw  dato
                      00080                          subwf  registro,0      ; W = REGISTRO - W
                      00081                          btfss  STATUS,C        ; ¿C='1'?
                      00082                          goto   direcc
                      00083                          endm
                      00084 ;compara y salta si es menor igual
                      00085 csmei            macro  registro,dato,direcc
                      00086                      movlw      dato
                      00087                          subwf  registro,0      ; W = REGISTRO - W
                      00088                          btfss  STATUS,C        ; ¿C='1'?
                      00089                          goto   direcc
                      00090                          btfsc  STATUS,Z        ; ¿Z='0'?
                      00091                          goto   direcc
MPASM  5.51                    APLICACION.ASM   5-18-2014  15:02:38         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00092 ;compara y salta si no es menor
                      00093 csnme            macro  registro,dato,direcc
                      00094                          movlw  dato
                      00095                          subwf  registro,0      ; W = REGISTRO - W
                      00096                          btfsc  STATUS,C        ; ¿C='0'?
                      00097                          goto   direcc
                      00098                          endm
                      00099 ;compara y salta si es mayor o igual
                      00100 csmai            macro  registro,dato,direcc
                      00101                          movlw  dato
                      00102                          subwf  registro,0      ; W = REGISTRO - W
                      00103                          btfsc  STATUS,C        ; ¿C='0'?
                      00104                          goto   direcc
                      00105                          endm
                      00106 ;Saltos
                      00107 salta        macro  ETIQUETA
                      00108              movlw  HIGH    ETIQUETA
                      00109              movwf  PCLATH
                      00110              goto   ETIQUETA
                      00111              endm
                      00112 ;...............................................................
                      00113 ;***************************************************************
                      00114 ;Retardos
                      00115 ;...............................................................
                      00116 ;***************************************************************
                      00117 milisegundo      macro X
                      00118                          movlw X
                      00119                          call  Milisegundo
                      00120                          endm
                      00121 segundo          macro X
                      00122                          movlw X
                      00123                          call  Segundo
                      00124                          endm
                      00125 ;...............................................................
                      00126 ;***************************************************************
                      00127 ;Para controlar la pantalla LCD 2x16
                      00128 ;...............................................................
                      00129 ;***************************************************************
                      00130 ;Inicializar la pantalla LCd
Warning[207]: Found label after column 1. (InicioLcd)
                      00131  InicioLcd macro 
                      00132            call  Inicio_lcd
                      00133            endm
                      00134 ;Para mandar caracter al LCD
Warning[207]: Found label after column 1. (ponerc)
                      00135  ponerc    macro ASCII
                      00136            movlw ASCII
                      00137            call  EnviaCarLCD
                      00138            endm
                      00139 ;Para mandar caracter contenido en un resgistro
Warning[207]: Found label after column 1. (putv)
                      00140  putv      macro REGISTRO
                      00141            movf  REGISTRO,0
MPASM  5.51                    APLICACION.ASM   5-18-2014  15:02:38         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00142            call  EnviaCarLCD
                      00143            endm
                      00144 ;Para activar y apagar el cursor del  LCD
Warning[207]: Found label after column 1. (cursor)
                      00145  cursor    macro X
                      00146            if    X==1 
                      00147            movlw DISP_ON_CURSOR_BLINK
                      00148            call  EnviaCmdLCD
                      00149            endif
                      00150            if    X==0
                      00151            movlw DISP_ON_NOCURSOR
                      00152            call  EnviaCmdLCD
                      00153            endif
                      00154            if    X==2
                      00155            movlw CURSOR_LEFT
                      00156            call  EnviaCmdLCD
                      00157            endif
                      00158            if    X ==3
                      00159            movlw CURSOR_RIGHT
                      00160            call  EnviaCmdLCD
                      00161            endif
                      00162            endm
                      00163 ;Bajar a la segunda fila de la pantalla LCD
Warning[207]: Found label after column 1. (enter)
                      00164  enter     macro
                      00165            movlw DISP_LINEA2
                      00166            call  EnviaCmdLCD
                      00167            endm
                      00168 ;Borrar escritura LCD
Warning[207]: Found label after column 1. (borralcd)
                      00169  borralcd  macro
                      00170            movlw DISP_CLEAR
                      00171            call  EnviaCmdLCD
                      00172            endm
                      00173 ;Desplazar a la derecha
Warning[207]: Found label after column 1. (desplazaderecha)
                      00174  desplazaderecha  macro  
                      00175                   movlw  DISPLAY_RIGHT
                      00176                   call   EnviaCmdLCD             
                      00177                   endm
                      00178 ;Desplazar a la izquierda
Warning[207]: Found label after column 1. (desplazaizquierda)
                      00179  desplazaizquierda  macro              
                      00180                         movlw  DISPLAY_LEFT
                      00181                         call   EnviaCmdLCD             
                      00182                         endm
                      00183 ;Programación especial para el envio de cadenas
                      00184 ;de mensajes al LCD
                      00185 tabla   macro  ETIQUETA,DIRECC,REGISTRO
                      00186         movf   DIRECC,0
                      00187         movwf  OFFSET
                      00188         movlw  HIGH   ETIQUETA
                      00189         movwf  PCLATH
MPASM  5.51                    APLICACION.ASM   5-18-2014  15:02:38         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00190         movlw  LOW    ETIQUETA
                      00191         addlw  .1
                      00192         addwf  OFFSET,0
                      00193         btfsc  STATUS,C
                      00194         incf   PCLATH
                      00195         movf   OFFSET,0
                      00196         call   ETIQUETA
                      00197         movwf  REGISTRO
                      00198         endm
                      00199 mensaje macro  x
                      00200         if x==1
                      00201         call TEXT1
                      00202         endif
                      00203         if x==2
                      00204         call TEXT2
                      00205         endif
                      00206         if x==3
                      00207         call TEXT3
                      00208         endif
                      00209         if x==4
                      00210         call TEXT4
                      00211         endif
                      00212         if x==5
                      00213         call TEXT5
                      00214         endif
                      00215         if x==6
                      00216         call TEXT6
                      00217         endif
                      00218         if x==7
                      00219         call TEXT7
                      00220         endif
                      00221         if x==8
                      00222         call TEXT8
                      00223         endif
                      00224         if x==9
                      00225         call TEXT9
                      00226         endif
                      00227         if x==.10
                      00228         call TEXT10
                      00229         endif
                      00230         if x==.11
                      00231         call TEXT11
                      00232         endif
                      00233         if x==.12
                      00234         call TEXT12
                      00235         endif
                      00236         if x==.13
                      00237         call TEXT13
                      00238         endif
                      00239         if x==.14
                      00240         call TEXT14
                      00241         endif
                      00242         if x==.15
MPASM  5.51                    APLICACION.ASM   5-18-2014  15:02:38         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00243         call TEXT15
                      00244         endif              
                      00245         endm     
                      00246 tab_digito   macro  ETIQUETA,DIRECC,REGISTRO
                      00247         movf   DIRECC,0
                      00248         movwf  OFFSET_X
                      00249         movlw  HIGH ETIQUETA
                      00250         movwf  PCLATH
                      00251         movlw  LOW ETIQUETA
                      00252         addlw  .1
                      00253         addwf  OFFSET_X,0
                      00254         btfsc  STATUS,C
                      00255         incf   PCLATH
                      00256         movf   OFFSET_X,0
                      00257         call   ETIQUETA
                      00258         movwf  REGISTRO
                      00259         endm
                      00260 ;Cambio de Banco y Páginas
                      00261 banco   macro   x
                      00262         if x == 0
                      00263                 bcf     STATUS,RP0
                      00264                 bcf     STATUS,RP1
                      00265         endif
                      00266         if x == 1
                      00267                 bsf     STATUS,RP0
                      00268                 bcf     STATUS,RP1
                      00269         endif
                      00270         if x == 2
                      00271                 bcf     STATUS,RP0
                      00272                 bsf     STATUS,RP1
                      00273         endif
                      00274         if x == 3
                      00275                 bsf     STATUS,RP0
                      00276                 bsf     STATUS,RP1
                      00277         endif
                      00278         endm
                      00279 ;pagina
                      00280 pagina  macro   x
                      00281         if x == 0
                      00282                 bcf     PCLATH,3
                      00283                 bcf     PCLATH,4
                      00284         endif
                      00285         if x == 1
                      00286                 bsf     PCLATH,3
                      00287                 bcf     PCLATH,4
                      00288         endif
                      00289         if x == 2
                      00290                 bcf     PCLATH,3
                      00291                 bsf     PCLATH,4
                      00292         endif
                      00293         if x == 3
                      00294                 bsf     PCLATH,3
                      00295                 bsf     PCLATH,4
MPASM  5.51                    APLICACION.ASM   5-18-2014  15:02:38         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00296         endif
                      00297         endm
                      00298 ;-----------------------------------------------
                      00299 ;Para interactuar con el RS232
                      00300 InicioRS232  macro 
                      00301              call   RS232_Inicializa
                      00302              endm
                      00303 ;para interactuar con el teclado_proteus
                      00304 InicioTeclado macro
                      00305               call  Inicio_TecladoLCD
                      00306               endm
                      00307 ;-----------------------------------------------
                      00308 
                      00309 
                      00310 
                      00311 
                      00312 
Warning[205]: Found directive in column 1. (__config)
2007   3F32           00004 __config 0x3f32
Warning[205]: Found directive in column 1. (cblock)
                      00005 cblock  0x20                                            ;Variables de otras librerías
  00000020            00006 cuenta                                                          ;Cuenta de unidades
  00000021            00007 cuenta2                                                         ;Cuenta de decenas
  00000022            00008 cuenta3                                                         ;Cuenta de centenas
Warning[205]: Found directive in column 1. (ENDC)
                      00009 endc
0000                  00010         org 0000h                                               ;Inicia en 0
0000   2805           00011         goto    Inicio                                  ;Ir a Inicio
0004                  00012         org             0004h                                   ;Mueve a 4h
0004   282F           00013         goto    Interrupcion                    ;Ir a Interrupcion
0005                  00014 Inicio  
                      00015         banco   1                                               ;Ir a banco 1
                          M         if 1 == 0
                          M                 bcf     STATUS,RP0
                          M                 bcf     STATUS,RP1
                          M         endif
                          M         if 1 == 1
0005   1683               M                 bsf     STATUS,RP0
0006   1303               M                 bcf     STATUS,RP1
                          M         endif
                          M         if 1 == 2
                          M                 bcf     STATUS,RP0
                          M                 bsf     STATUS,RP1
                          M         endif
                          M         if 1 == 3
                          M                 bsf     STATUS,RP0
                          M                 bsf     STATUS,RP1
                          M         endif
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0007   0186           00016         clrf    trisb                                   ;PORTB = salidas
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0008   0187           00017         clrf    trisc                                   ;PORTC = salidas
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
MPASM  5.51                    APLICACION.ASM   5-18-2014  15:02:38         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0009   0188           00018         clrf    trisd                                   ;PORTD = salidas
                      00019         banco   0                                               ;Regresa al banco 0
                          M         if 0 == 0
000A   1283               M                 bcf     STATUS,RP0
000B   1303               M                 bcf     STATUS,RP1
                          M         endif
                          M         if 0 == 1
                          M                 bsf     STATUS,RP0
                          M                 bcf     STATUS,RP1
                          M         endif
                          M         if 0 == 2
                          M                 bcf     STATUS,RP0
                          M                 bsf     STATUS,RP1
                          M         endif
                          M         if 0 == 3
                          M                 bsf     STATUS,RP0
                          M                 bsf     STATUS,RP1
                          M         endif
                      00020 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 
000C   01A0           00021         clrf    cuenta                                  ;Cuenta inicia en 0
000D   01A1           00022         clrf    cuenta2                                 ;Cuenta2 inicia en 0
000E   01A2           00023         clrf    cuenta3                                 ;Cuenta3 inicia en 0
000F   0186           00024         clrf    portb                                   ;PORTB = b'00000000'
0010   3000           00025         movlw   0                                               ;Carga a W en 0
0011   2061           00026         call    DisplayCatodoComun              ;Llama a la rutina del display
0012   0087           00027         movwf   portc                                   ;Carga el valor devuelto en PORTC
0013   0088           00028         movwf   portd                                   ;Carga el valor devuelto en PORTD       
                      00029 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0014   208C           00030         call    InicioIntTMR0                   ;Inicia la Interrupción
                      00031 ;Display
0015                  00032 repite
0015   0820           00033         movf    cuenta,0                                ;Carga cuenta a W
0016   2061           00034         call    DisplayCatodoComun              ;Llama a la rutina del display
0017   0087           00035         movwf   portc                                   ;Carga el valor devuelto en PORTC
0018   0821           00036         movf    cuenta2,0                               ;Carga cuenta2 a W
0019   2061           00037         call    DisplayCatodoComun              ;Llama a la rutina del display
001A   0088           00038         movwf   portd                                   ;Carga el valor devuelto en PORTD
001B   0AA0           00039         incf    cuenta,1                                ;Aumenta cuenta en una unidad
                      00040         csi             cuenta,.10,IniciaCero   ;Si cuenta es 10 va a IniciaCero
001C   300A               M                          movlw  .10
001D   0220               M                  subwf  cuenta,0
001E   1903               M                  btfsc  STATUS,Z
001F   2823               M                  goto   IniciaCero
0020                  00041 paso1
                      00042         segundo .1                                              ;Demora 1 segundo
0020   3001               M                          movlw .1
0021   2050               M                          call  Segundo
0022   2815           00043         goto    repite                                  ;Ir a repite
0023                  00044 IniciaCero      
0023   3000           00045         movlw   0                                               ;Carga 0 a W
0024   00A0           00046         movwf   cuenta                                  ;Mueve W a cuenta
Message[305]: Using default destination of 1 (file).
0025   0AA1           00047         incf    cuenta2                                 ;Aumenta cuenta 2 en una unidad
MPASM  5.51                    APLICACION.ASM   5-18-2014  15:02:38         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00048         csi             cuenta2,.10,IniciaCero2 ;Si cuenta2 es 10 va a IniciaCero2
0026   300A               M                          movlw  .10
0027   0221               M                  subwf  cuenta2,0
0028   1903               M                  btfsc  STATUS,Z
0029   282B               M                  goto   IniciaCero2
002A   2820           00049         goto    paso1                                   ;Ir a paso1
002B                  00050 IniciaCero2
002B   3000           00051         movlw   0                                               ;Carga 0 a W
002C   00A0           00052         movwf   cuenta                                  ;Mueve W a cuenta
002D   00A1           00053         movwf   cuenta2                                 ;Mueve W a cuenta2
002E   2820           00054         goto    paso1                                   ;Ir a paso 1
                      00055 ;------------------------------
002F                  00056 Interrupcion
Message[305]: Using default destination of 1 (file).
002F   0AA2           00057         incf    cuenta3                                 ;Aumenta cuenta3 en una unidad
                      00058         csi             cuenta3,.125,PrenderLed ;Si cuenta3 es 125 va a PrenderLed
0030   307D               M                          movlw  .125
0031   0222               M                  subwf  cuenta3,0
0032   1903               M                  btfsc  STATUS,Z
0033   283A               M                  goto   PrenderLed
                      00059         csi             cuenta3,.250,ApagarLed  ;Si cuenta3 es 250 va a ApagarLed
0034   30FA               M                          movlw  .250
0035   0222               M                  subwf  cuenta3,0
0036   1903               M                  btfsc  STATUS,Z
0037   283E               M                  goto   ApagarLed
0038   209A           00060         call    FinIntTMR0                              ;Finaliza la interrupción
0039   0009           00061         retfie                                                  ;Retorna donde se inició la interrupción
003A                  00062 PrenderLed
003A   30FF           00063         movlw   b'11111111'                             ;Carga 255 a W
003B   0086           00064         movwf   portb                                   ;Mueve W al PORTB
003C   209A           00065         call    FinIntTMR0                              ;Finaliza la interrupción
003D   0009           00066         retfie                                                  ;Retorna donde se inició la interrupción
003E                  00067 ApagarLed
003E   0186           00068         clrf    portb                                   ;PORTB = b'00000000'
003F   01A2           00069         clrf    cuenta3                                 ;cuenta3 = 0
0040   209A           00070         call    FinIntTMR0                              ;Finaliza la interrupción
0041   0009           00071         retfie                                                  ;Retorna donde se inició la interrupción
                      00072 ;------------------------------
Warning[205]: Found directive in column 1. (include)
                      00073 include<electronicpic16f877.asm>
                      00001 ;**************************************************************
                      00002 ;==============================================================
                      00003 ;Nombre de archivo:Electronicpic16f877.asm
                      00004 ;Hecho por: Ing. Carlos Enrique Mendiola Mogollón
                      00005 ;Empresa: Electronic-digital(CM)
                      00006 ;E-mail: Electronic_digital20@hotmail.com
                      00007 ;Dirección Web:www.electronic-digital.blogspot.com
                      00008 ;==============================================================
                      00009 ;**************************************************************
Warning[205]: Found directive in column 1. (cblock)
                      00010 cblock                          
  00000023            00011 Cont_1        
  00000024            00012 Cont_2        
MPASM  5.51                    APLICACION.ASM   5-18-2014  15:02:38         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000025            00013 Cont_3        
  00000026            00014 Cont_4        
  00000027            00015 contador_1      
  00000028            00016 contador_2                   
Warning[205]: Found directive in column 1. (ENDC)
                      00017 endc
                      00018 ;***************************************************************
                      00019 ;Rutinas para generación de retardos
                      00020 ;Frecuencia de cristal:20Mhz
                      00021 ;***************************************************************
0042                  00022 Milisegundo
0042   00A3           00023          movwf  Cont_1
Warning[207]: Found label after column 1. (xx)
0043                  00024     xx
0043   3011           00025          movlw  .17
0044   00A4           00026          movwf  Cont_2 
Warning[207]: Found label after column 1. (xx1)
0045                  00027     xx1
0045   303A           00028          movlw  .58
0046   00A5           00029          movwf  Cont_3     
Warning[207]: Found label after column 1. (xx2)
0047                  00030     xx2
0047   0000           00031          nop
0048   0000           00032          nop
Message[305]: Using default destination of 1 (file).
0049   0BA5           00033          decfsz Cont_3     
004A   2847           00034          goto   xx2
Message[305]: Using default destination of 1 (file).
004B   0BA4           00035          decfsz Cont_2 
004C   2845           00036          goto   xx1
Message[305]: Using default destination of 1 (file).
004D   0BA3           00037          decfsz Cont_1
004E   2843           00038          goto   xx
004F   0008           00039          return
0050                  00040 Segundo
0050   00A3           00041          movwf  Cont_1
Warning[207]: Found label after column 1. (xxx)
0051                  00042     xxx
0051   30FA           00043          movlw  .250
0052   00A4           00044          movwf  Cont_2 
Warning[207]: Found label after column 1. (xxx1)
0053                  00045     xxx1
0053   30FA           00046          movlw  .250
0054   00A5           00047          movwf  Cont_3     
Warning[207]: Found label after column 1. (xxx2)
0055                  00048     xxx2
0055   3013           00049          movlw  .19
0056   00A6           00050          movwf  Cont_4 
Warning[207]: Found label after column 1. (xxx3)
0057                  00051     xxx3
0057   0000           00052          nop
Message[305]: Using default destination of 1 (file).
0058   0BA6           00053          decfsz Cont_4 
MPASM  5.51                    APLICACION.ASM   5-18-2014  15:02:38         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0059   2857           00054          goto   xxx3
Message[305]: Using default destination of 1 (file).
005A   0BA5           00055          decfsz Cont_3     
005B   2855           00056          goto   xxx2
Message[305]: Using default destination of 1 (file).
005C   0BA4           00057          decfsz Cont_2 
005D   2853           00058          goto   xxx1
Message[305]: Using default destination of 1 (file).
005E   0BA3           00059          decfsz Cont_1
005F   2851           00060          goto   xxx
0060   0008           00061          return
                      00062 ;***************************************************************
                      00063 ;Rutinas para el uso de display 7 segmentos ánodo y cátodo común
                      00064 ;***************************************************************
0061                  00065 DisplayCatodoComun
0061   0782           00066         addwf   PCL,1
0062   343F           00067         retlw   0X3F        ;Número 0
0063   3406           00068         retlw   0X06        ;Número 1
0064   345B           00069         retlw   0X5B        ;Número 2
0065   344F           00070         retlw   0X4F        ;Número 3
0066   3466           00071         retlw   0X66        ;Número 4
0067   346D           00072         retlw   0X6D        ;Número 5
0068   347D           00073         retlw   0X7D        ;Número 6
0069   3407           00074         retlw   0X07        ;Número 7
006A   347F           00075         retlw   0X7F        ;Número 8
006B   346F           00076         retlw   0X6F        ;Número 9
006C                  00077 DisplayAnodoComun
006C   0782           00078         addwf   PCL,1
006D   3440           00079         retlw   0X40        ;Número 0
006E   3479           00080         retlw   0X79        ;Número 1
006F   3424           00081         retlw   0X24        ;Número 2
0070   3430           00082         retlw   0X30        ;Número 3
0071   3419           00083         retlw   0X19        ;Número 4
0072   3412           00084         retlw   0X12        ;Número 5
0073   3402           00085         retlw   0X02        ;Número 6
0074   3478           00086         retlw   0X78        ;Número 7
0075   3400           00087         retlw   0X00        ;Número 8
0076   3410           00088         retlw   0X10        ;Número 9
                      00089       
                      00090 ;*************************************************************
  00000082            00091 t0                  equ 0x82    ;constante para generar aprox. 25ms
  00000018            00092 t4.6ms          equ     0x06*4  ;constante para generar 4,6ms
  00000050            00093 t15.4ms         equ     0x14*4  ;constante para generar 15,4ms
  00000001            00094 t200us          equ     0x01    ;constante para generar aprox. 200us
                      00095 
                      00096 ;*************************************************************
0077                  00097 retardo:
0077   01A7           00098         clrf    contador_1              ;aclara contador1
0078   0BA7           00099 ret     decfsz  contador_1,F    
0079   2878           00100         goto    ret
007A   0BA8           00101         decfsz  contador_2,F
007B   2878           00102         goto    ret
007C   0008           00103         return  
MPASM  5.51                    APLICACION.ASM   5-18-2014  15:02:38         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00104 
007D                  00105 ret50ms:                                        ;RETARDO 50 ms
007D   3082           00106         movlw   t0              
007E   00A8           00107         movwf   contador_2
007F   2077           00108         call    retardo
0080   2077           00109         call    retardo
0081   0008           00110         return
                      00111 
0082                  00112 ret100ms:                                       ;RETARDO 100 ms
0082   207D           00113         call    ret50ms         
0083   207D           00114         call    ret50ms
0084   0008           00115         return
                      00116 
0085                  00117 ret300ms:                                       ;RETARDO 300 ms
0085   2082           00118         call    ret100ms
0086   2082           00119         call    ret100ms
0087   2082           00120         call    ret100ms
0088   0008           00121         return
                      00122 
0089                  00123 ret600ms:                                       ;RETARDO 600 ms
0089   2085           00124         call    ret300ms
008A   2085           00125         call    ret300ms
008B   0008           00126         return
                      00127 
                      00128 
                      00129 
                      00130 
                      00131 
                      00132 
                      00133 
                      00134 
                      00135 
                      00136 
                      00137 
                      00138 
Warning[205]: Found directive in column 1. (include)
                      00074 include<interrupcion.asm>
                      00001 ;**************************************************************
                      00002 ;==============================================================
                      00003 ;Rutina de interrupciones
                      00004 ;Hecho por: Ing. Carlos Enrique Mendiola Mogollón
                      00005 ;Empresa: Electronic-digital(CM)
                      00006 ;E-mail: Electronic_digital20@hotmail.com
                      00007 ;Dirección Web:www.electronic-digital.blogspot.com
                      00008 ;==============================================================
                      00009 ;**************************************************************
Warning[205]: Found directive in column 1. (cblock)
                      00010 cblock
Warning[205]: Found directive in column 1. (ENDC)
                      00011 endc
                      00012 ;--------------------------------------------------------------
                      00013 ;Interrupción de TMR0 de 1ms aproximadamente.
                      00014 ;Para iniciar interrupción:
MPASM  5.51                    APLICACION.ASM   5-18-2014  15:02:38         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00015 ;call InicioIntTMR0
008C                  00016 InicioIntTMR0
                      00017     banco 1
                          M         if 1 == 0
                          M                 bcf     STATUS,RP0
                          M                 bcf     STATUS,RP1
                          M         endif
                          M         if 1 == 1
008C   1683               M                 bsf     STATUS,RP0
008D   1303               M                 bcf     STATUS,RP1
                          M         endif
                          M         if 1 == 2
                          M                 bcf     STATUS,RP0
                          M                 bsf     STATUS,RP1
                          M         endif
                          M         if 1 == 3
                          M                 bsf     STATUS,RP0
                          M                 bsf     STATUS,RP1
                          M         endif
                      00018     mover OPTION_REG,b'11010110'  ;PreDivisor x128/Temporizador
008E   30D6               M              movlw   b'11010110'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
008F   0081               M              movwf   OPTION_REG
0090   168B           00019     bsf   INTCON,T0IE   ;Interrupcion TMR0 ON 
0091   178B           00020     bsf   INTCON,GIE    ;Interrupcion global ON
                      00021     banco 0
                          M         if 0 == 0
0092   1283               M                 bcf     STATUS,RP0
0093   1303               M                 bcf     STATUS,RP1
                          M         endif
                          M         if 0 == 1
                          M                 bsf     STATUS,RP0
                          M                 bcf     STATUS,RP1
                          M         endif
                          M         if 0 == 2
                          M                 bcf     STATUS,RP0
                          M                 bsf     STATUS,RP1
                          M         endif
                          M         if 0 == 3
                          M                 bsf     STATUS,RP0
                          M                 bsf     STATUS,RP1
                          M         endif
0094   110B           00022     bcf   INTCON,T0IF
                      00023     mover TMR0,.217     ;t=(0.2u)(256-TMR0)(PreDivisor)=0.998ms
0095   30D9               M              movlw   .217
0096   0081               M              movwf   TMR0
                      00024     segundo .1
0097   3001               M                          movlw .1
0098   2050               M                          call  Segundo
0099   0008           00025     return
                      00026 ;Para Finalizar interrupción:
                      00027 ;call FinIntTMR0
                      00028 ;retfie
MPASM  5.51                    APLICACION.ASM   5-18-2014  15:02:38         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

009A                  00029 FinIntTMR0
009A   110B           00030     bcf   INTCON,T0IF    ;Flag desborde OFF
                      00031     mover TMR0,.217
009B   30D9               M              movlw   .217
009C   0081               M              movwf   TMR0
009D   0008           00032     return
                      00033 ;---------------------------------------------------------------
                      00034 
                      00035 ;---------------------------------------------------------------
Warning[205]: Found directive in column 1. (end)
                      00075 end
MPASM  5.51                    APLICACION.ASM   5-18-2014  15:02:38         PAGE 15


SYMBOL TABLE
  LABEL                             VALUE 

ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADCS2                             00000006
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
ApagarLed                         0000003E
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BRGH                              00000002
C                                 00000000
C1INV                             00000004
C1OUT                             00000006
C2INV                             00000005
C2OUT                             00000007
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1                             00000015
CCPR1H                            00000016
CCPR1L                            00000015
CCPR2                             0000001B
CCPR2H                            0000001C
CCPR2L                            0000001B
CHS0                              00000003
CHS1                              00000004
CHS2                              00000005
CIS                               00000003
MPASM  5.51                    APLICACION.ASM   5-18-2014  15:02:38         PAGE 16


SYMBOL TABLE
  LABEL                             VALUE 

CKE                               00000006
CKP                               00000004
CM0                               00000000
CM1                               00000001
CM2                               00000002
CMCON                             0000009C
CMIE                              00000006
CMIF                              00000006
CREN                              00000004
CSRC                              00000007
CVR0                              00000000
CVR1                              00000001
CVR2                              00000002
CVR3                              00000003
CVRCON                            0000009D
CVREN                             00000007
CVROE                             00000006
CVRR                              00000005
Cont_1                            00000023
Cont_2                            00000024
Cont_3                            00000025
Cont_4                            00000026
D                                 00000005
DATA_ADDRESS                      00000005
DC                                00000001
D_A                               00000005
D_NOT_A                           00000005
DisplayAnodoComun                 0000006C
DisplayCatodoComun                00000061
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
F                                 00000001
FERR                              00000002
FSR                               00000004
FinIntTMR0                        0000009A
GCEN                              00000007
GIE                               00000007
GO                                00000002
GO_DONE                           00000002
GO_NOT_DONE                       00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
IBF                               00000007
IBOV                              00000005
MPASM  5.51                    APLICACION.ASM   5-18-2014  15:02:38         PAGE 17


SYMBOL TABLE
  LABEL                             VALUE 

INDF                              00000000
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IRP                               00000007
IniciaCero                        00000023
IniciaCero2                       0000002B
Inicio                            00000005
InicioIntTMR0                     0000008C
InicioLcd                         
InicioRS232                       
InicioTeclado                     
Interrupcion                      0000002F
Milisegundo                       00000042
NOT_A                             00000005
NOT_ADDRESS                       00000005
NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000002
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
OBF                               00000006
OERR                              00000001
OPTION_REG                        00000081
P                                 00000004
PCFG0                             00000000
PCFG1                             00000001
PCFG2                             00000002
PCFG3                             00000003
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
PORTA                             00000005
PORTB                             00000006
PORTC                             00000007
PORTD                             00000008
PORTE                             00000009
PR2                               00000092
PS0                               00000000
MPASM  5.51                    APLICACION.ASM   5-18-2014  15:02:38         PAGE 18


SYMBOL TABLE
  LABEL                             VALUE 

PS1                               00000001
PS2                               00000002
PSA                               00000003
PSPIE                             00000007
PSPIF                             00000007
PSPMODE                           00000004
PrenderLed                        0000003A
R                                 00000002
RA0                               00000000
RA1                               00000001
RA2                               00000002
RA3                               00000003
RA4                               00000004
RA5                               00000005
RB0                               00000000
RB1                               00000001
RB2                               00000002
RB3                               00000003
RB4                               00000004
RB5                               00000005
RB6                               00000006
RB7                               00000007
RBIE                              00000003
RBIF                              00000000
RC0                               00000000
RC1                               00000001
RC2                               00000002
RC3                               00000003
RC4                               00000004
RC5                               00000005
RC6                               00000006
RC7                               00000007
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
RD0                               00000000
RD1                               00000001
RD2                               00000002
RD3                               00000003
RD4                               00000004
RD5                               00000005
RD6                               00000006
RD7                               00000007
RE0                               00000000
RE1                               00000001
RE2                               00000002
READ_WRITE                        00000002
MPASM  5.51                    APLICACION.ASM   5-18-2014  15:02:38         PAGE 19


SYMBOL TABLE
  LABEL                             VALUE 

RP0                               00000005
RP1                               00000006
RSEN                              00000001
RX9                               00000006
RX9D                              00000000
R_NOT_W                           00000002
R_W                               00000002
S                                 00000003
SEN                               00000000
SMP                               00000007
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000094
STATUS                            00000003
SYNC                              00000004
Segundo                           00000050
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1INSYNC                          00000002
T1OSCEN                           00000003
T1SYNC                            00000002
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TMR0                              00000001
TMR0IE                            00000005
TMR0IF                            00000002
TMR1                              0000000E
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
MPASM  5.51                    APLICACION.ASM   5-18-2014  15:02:38         PAGE 20


SYMBOL TABLE
  LABEL                             VALUE 

TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISA0                            00000000
TRISA1                            00000001
TRISA2                            00000002
TRISA3                            00000003
TRISA4                            00000004
TRISA5                            00000005
TRISB                             00000086
TRISB0                            00000000
TRISB1                            00000001
TRISB2                            00000002
TRISB3                            00000003
TRISB4                            00000004
TRISB5                            00000005
TRISB6                            00000006
TRISB7                            00000007
TRISC                             00000087
TRISC0                            00000000
TRISC1                            00000001
TRISC2                            00000002
TRISC3                            00000003
TRISC4                            00000004
TRISC5                            00000005
TRISC6                            00000006
TRISC7                            00000007
TRISD                             00000088
TRISD0                            00000000
TRISD1                            00000001
TRISD2                            00000002
TRISD3                            00000003
TRISD4                            00000004
TRISD5                            00000005
TRISD6                            00000006
TRISD7                            00000007
TRISE                             00000089
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRMT                              00000001
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
MPASM  5.51                    APLICACION.ASM   5-18-2014  15:02:38         PAGE 21


SYMBOL TABLE
  LABEL                             VALUE 

TXREG                             00000019
TXSTA                             00000098
UA                                00000001
W                                 00000000
WCOL                              00000007
WR                                00000001
WREN                              00000002
WRERR                             00000003
Z                                 00000002
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_BOREN_OFF                        00003FBF
_BOREN_ON                         00003FFF
_CONFIG                           00002007
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_ALL                           00001FFF
_CP_OFF                           00003FFF
_CP_ON                            00001FFF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         000037FF
_DEVID1                           00002006
_FOSC_EXTRC                       00003FFF
_FOSC_HS                          00003FFE
_FOSC_LP                          00003FFC
_FOSC_XT                          00003FFD
_HS_OSC                           00003FFE
_IDLOC0                           00002000
_IDLOC1                           00002001
_IDLOC2                           00002002
_IDLOC3                           00002003
_LP_OSC                           00003FFC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_RC_OSC                           00003FFF
_WDTE_OFF                         00003FFB
_WDTE_ON                          00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_WRT_1FOURTH                      00003BFF
_WRT_256                          00003DFF
_WRT_HALF                         000039FF
_WRT_OFF                          00003FFF
_XT_OSC                           00003FFD
__16F877A                         00000001
__DEBUG                           1
banco                             
borralcd                          
contador_1                        00000027
contador_2                        00000028
csi                               
MPASM  5.51                    APLICACION.ASM   5-18-2014  15:02:38         PAGE 22


SYMBOL TABLE
  LABEL                             VALUE 

csir                              
csmai                             
csme                              
csmei                             
csni                              
csnir                             
cuenta                            00000020
cuenta2                           00000021
cuenta3                           00000022
cursor                            
dcsi                              
dcsni                             
desplazaderecha                   
desplazaizquierda                 
enter                             
entrada                           00000001
mensaje                           
milisegundo                       
mover                             
movregistro                       
pagina                            
paso1                             00000020
ponerc                            
porta                             00000005
portb                             00000006
portc                             00000007
portd                             00000008
porte                             00000009
putv                              
repite                            00000015
ret                               00000078
ret100ms                          00000082
ret300ms                          00000085
ret50ms                           0000007D
ret600ms                          00000089
retardo                           00000077
salida                            00000000
salta                             
segundo                           
t0                                00000082
t15.4ms                           00000050
t200us                            00000001
t4.6ms                            00000018
tab_digito                        
tabla                             
trisb                             00000086
trisc                             00000087
trisd                             00000088
xx                                00000043
xx1                               00000045
xx2                               00000047
xxx                               00000051
xxx1                              00000053
MPASM  5.51                    APLICACION.ASM   5-18-2014  15:02:38         PAGE 23


SYMBOL TABLE
  LABEL                             VALUE 

xxx2                              00000055
xxx3                              00000057


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : X---XXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXX-- ---------------- ----------------
2000 : -------X-------- ---------------- ---------------- ----------------

All other memory blocks unused.

Program Memory Words Used:   155
Program Memory Words Free:  8037


Errors   :     0
Warnings :    28 reported,     0 suppressed
Messages :    13 reported,     0 suppressed

